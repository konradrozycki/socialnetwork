System.register(["./vendor.js","./frameworks.js"],(function(){"use strict";var e,t,n,s,o,r,c,i,a,l,u,d,m,p,f,g,j,h,b,y,L,v,k,w,T,E,S,M,H;return{setters:[function(g){e=g.o,t=g.c,n=g.b,s=g.g,o=g.q,r=g.a,c=g.r,i=g.e,a=g.f,l=g.X,u=g.n,d=g._,m=g.t,p=g.B,f=g.d},function(e){g=e.v,j=e.$,h=e.q,b=e.c,y=e.ag,L=e.n,v=e.b,k=e.e,w=e.aM,T=e.aW,E=e.an,S=e.k,M=e.B,H=e.E}],execute:function(){function x(e,t){const n=new URLSearchParams(window.location.search);n.set(e,t);const s=new URL(window.location.href,window.location.origin);s.search=n.toString(),g(j(),"",s.toString())}function q(e,t){for(const n of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))n.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}async function I(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let n;try{n=await v(document,t),e.innerHTML="",e.append(n)}catch(s){window.location.reload()}}e("change",".js-policy-repos-container .js-repository-item-checkbox",(function(e){const n=e.target,s=t(n,".js-policy-repos-container").querySelector(".js-policy-repos-form"),o=function(e){const t=document.createElement("input");return t.type="hidden",t.name=e.checked?"enable[]":"disable[]",t.value=e.value,t}(n),r=s.querySelector(`[value='${o.value}']`);r?r.replaceWith(o):s.append(o)})),e("details-menu-selected",".js-actions-runner-platform-menu",(function(e){const r=e.detail.relatedTarget;if(!(r instanceof HTMLElement))throw new Error("invariant");const c=t(r,".js-actions-runner-instructions"),i=n(c,".js-actions-runner-architecture-menu"),a=s(r,"data-download-os"),l=s(i,"data-default-architecture");for(const t of o(i,"[data-download-os]")){const e=s(t,"data-download-os");t.hidden=e!==a,e===a&&s(t,"data-download-architecture")===l&&t.click()}n(c,".js-actions-runner-windows-instructions").hidden="win"!==a,n(c,".js-actions-runner-unix-instructions").hidden="win"===a,x("os",a)}),{capture:!0}),e("details-menu-selected",".js-actions-runner-architecture-menu",(function(e){const n=e.detail.relatedTarget;if(!(n instanceof HTMLElement))throw new Error("invariant");const r=t(n,".js-actions-runner-instructions"),c=s(n,"data-download-url"),i=s(n,"data-download-filename");for(const t of o(r,".js-action-runner-url"))t.textContent=c;for(const t of o(r,".js-action-runner-filename"))t.textContent=i;x("arch",s(n,"data-download-architecture"))}),{capture:!0}),r(".js-email-global-unsubscribe-form",(function(e){n(e,".js-email-global-unsubscribe-submit",HTMLInputElement).disabled=!0})),e("change",".js-email-global-unsubscribe-form",(function(e){const t=e.currentTarget,s=n(t,".js-email-global-unsubscribe-submit",HTMLInputElement),r=o(t,".js-email-global-unsubscribe",HTMLInputElement),c=Array.from(r).some(e=>e.checked!==e.defaultChecked);s.disabled=!c})),c(".js-email-unsubscribe-form",(async function(e,t){await t.text();for(const n of document.querySelectorAll(".js-email-unsubscribe-message"))n instanceof HTMLElement&&(n.hidden=!n.hidden)})),h(".js-key-link-input",i((async function(e){const t=e.target.form,s=o(t,".js-key-link-input",HTMLInputElement),r=new FormData;for(const n of s)r.append(n.name,n.value);const c=n(t,".js-key-link-check",HTMLElement),i=function(e){const t=e.getAttribute("src");if(!t)return"";const n=document.createElement("a");return n.href=t,n.href}(c),a=n(c.parentElement,".js-key-link-check-csrf",HTMLInputElement);try{const e=await b(y(i,a.value,{method:"POST",body:r}));c.innerHTML=e,c.hidden=!1}catch(l){c.hidden=!0}}),300)),c(".js-setting-toggle",(async function(e,t){const s=n(e,".js-status-indicator");q(s,"status-indicator-loading");try{await t.text(),q(s,"status-indicator-success")}catch(o){q(s,"status-indicator-failed")}})),e("change",".js-toggle-email-settings input",(function(){const e=n(document,".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)})),e("change",".js-toggle-ci-failures-only-setting input",(function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=n(document,".js-ci-failures-only-settings input",HTMLInputElement),s=t.closest("label");s&&s.classList.toggle("text-gray-light",!e),e||(t.checked=!1),t.disabled=!e})),c(".js-revoke-access-form",(async function(e,t){await t.html();const o=s(e,"data-id"),r=s(e,"data-type-name"),c=n(document,`.js-revoke-item[data-type='${r}'][data-id='${o}']`);c.remove(),c.classList.contains("new-token")&&n(document,".js-flash-new-token").remove()})),e("click",".js-delete-oauth-application-image",(function(){const e=n(document,".js-delete-oauth-application-image-form",HTMLFormElement);L(e)})),e("click",".js-new-callback",(function(e){e.preventDefault();const s=e.currentTarget,o=t(s,".js-callback-urls"),r=n(o,".js-callback-url").cloneNode(!0);r instanceof HTMLElement&&(r.classList.remove("is-default-callback"),n(r,"input",HTMLInputElement).value="",o.classList.add("has-many"),s.parentNode.insertBefore(r,s))})),e("click",".js-delete-callback",(function(e){e.preventDefault();const n=e.currentTarget;t(n,".js-callback-url").remove();const s=t(n,".js-callback-urls");o(s,".js-callback-url",HTMLElement).length<=1&&s.classList.remove("has-many")})),e("click",".js-oauth-application-whitelist .js-deny-this-request",(function(e){const n=e.currentTarget;n.nextElementSibling.value="denied",L(t(n,".js-org-application-access-form",HTMLFormElement))})),e("click",".js-generate-integration-key",(function(){const e=n(document,".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout((function(){const e=n(document,".js-integration-keys-container",HTMLElement);e&&I(e)}),1e3))})),c(".js-remove-integration-key",(async function(e,o){try{await o.text()}catch(i){if(!i.response)throw i;t(e,"details").removeAttribute("open");const s=n(document,".js-integration-key-management-wrapper"),o=n(s,".js-error-container"),r=n(o,".js-error-message");switch(i.response.status){case 500:r.textContent="Oops, something went wrong.";break;case 404:r.textContent="Oops, that key could not be found.";break;default:r.textContent=i.response.json.message}return void s.classList.add("error")}const r=s(e,"data-key-id"),c=document.getElementById(r);if(c){const e=t(c,".js-integration-keys-container",HTMLElement);e&&I(e)}})),e("click",".js-error-dismiss",(function(){const e=n(document,".js-integration-keys-container",HTMLElement);e&&I(e)})),e("change",".js-checkbox-scope",(function(e){const n=e.currentTarget,s=t(n,".js-check-scope-container"),r=o(s,".js-checkbox-scope",HTMLInputElement);for(const t of r)t!==n&&(t.checked=n.checked,t.disabled=n.checked)})),e("change","[data-check-related-scopes]",(function(e){const t=e.currentTarget,n=s(t,"data-check-related-scopes").split(" ");for(const s of n){const e=o(document,`[data-scope-for="${s}"] .js-checkbox-scope`,HTMLInputElement);for(const n of e)n.checked=t.checked,n.value!==s&&(n.disabled=t.checked)}}));function A(){const e=n(document,".js-org-secrets-selection"),t=n(e,".js-secrets-visibility-menu input:checked"),r=s(t,"value"),c=n(e,".js-repository-items-dialog");c.hidden="VISIBILITY_SELECTED_REPOSITORIES"!==r;const i=n(e,".js-repository-selection-component"),a=o(i,".js-repository-item-checkbox",HTMLInputElement).filter(e=>e.checked).length,l=n(c,".js-selected-repos-label");l.hidden="VISIBILITY_SELECTED_REPOSITORIES"!==r,n(l,".js-selected-repositories-count").textContent=a.toString(),n(l,".js-multiple-repositories-text").hidden=1===a,n(l,".js-single-repository-text").hidden=1!==a}function C(e){const n=t(e.target,".js-encrypt-submit").querySelector(".js-btn-save-secret");n&&(n.disabled=!1,n.setAttribute("aria-disabled","false"))}function _(e,t){const s=n(t,".js-repo-access-error");s.textContent=e,s.classList.remove("d-none")}function D(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}function B(e){const t=e.querySelectorAll(".js-repo-access-entry").length;e.classList.toggle("is-empty",0===t);const s=e.querySelector(".js-collab-limit");if(s){const o=parseInt(s.getAttribute("data-collab-limit")||"",10),r=n(e,".js-over-limit",HTMLElement),c=n(e,".js-under-limit",HTMLElement);r.classList.toggle("d-none",t<o),c.classList.toggle("d-none",t>=o)}}function R(e){for(const t of e)t.hidden=!t.hidden}function $(e){for(const n of e){n.disabled=!1,t(n,".js-role-checkbox").classList.remove("text-gray-light")}}function O(e,t){e instanceof HTMLElement&&(e.hidden=t)}function F(e){const t=n(e,".js-authorized-pushers");if(!t.getAttribute("data-limit"))return;const s=parseInt(t.getAttribute("data-limit")||""),o=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",o>=s)}e("click",".js-new-secret-value-button",(function(e){const s=e.currentTarget,o=t(s,".js-secret-value-form-group");n(o,".js-new-secret-value-input").hidden=!1,n(o,".js-new-secret-value-prompt").hidden=!0,C(e)})),e("reset",".js-org-secrets-selection .js-repository-selection-component",A),e("details-menu-selected",".js-secrets-visibility-menu",C,{capture:!0}),e("details-menu-selected",".js-secrets-visibility-menu",A,{capture:!0}),e("details-menu-selected",".js-repo-access-team-select-menu",(function(e){const s=e.detail.relatedTarget,o=s.getAttribute("data-team-id")||"",r=n(t(s,".js-repo-access-group"),".js-add-repo-access-field",HTMLInputElement);r.value=o,L(r.form)}),{capture:!0}),c(".js-add-repo-access-form",(async function(e,s){D();const r=(await s.json()).json;let c;const i=t(e,".js-repo-access-group");c="collaborators"===i.id?i.querySelector(".js-repo-access-list-invites"):i.querySelector(".js-repo-access-list");const a=e.querySelector(".js-add-repo-access-field");if(a instanceof HTMLInputElement){const e=a.value;a.value="","teams"===i.id&&function(e){const n=document.querySelector(".js-repo-access-team-select");if(n){let s=0;for(const t of o(n,".js-repo-access-team-select-option"))e===t.getAttribute("data-team-id")&&(t.hidden=!0),t.hidden||s++;0===s&&t(n,".js-repo-access-group").classList.add("no-form")}}(e)}if(r.error)_(r.error,i);else{if(function(){const e=document.getElementById("collaborators");e&&(n(e,".js-add-new-collab",HTMLButtonElement).disabled=!0)}(),function(){const e=document.querySelector("#teams .js-add-new-collab");e instanceof HTMLButtonElement&&(e.disabled=!0)}(),c){c.insertAdjacentHTML("beforeend",r.html);const e=o(c,".js-repo-access-entry");n(e[e.length-1],"a").focus()}if(B(i),r.seats||0===r.seats){const e=1===r.seats?"seat":"seats",t=document.getElementById("available-seats");t&&(t.innerHTML=`${r.seats} ${e}`)}}})),c(".js-remove-repo-access-form",(async function(e,n){if(e.hasAttribute("data-skip-remote"))return;try{await n.text()}catch(r){return void _(e.getAttribute("data-error-message")||"",t(e,".js-repo-access-group"))}D();const s=t(e,".js-repo-access-entry"),o=t(e,".js-repo-access-group");"teams"===o.id&&function(e){const n=document.querySelector(".js-repo-access-team-select");if(n){const s=n.querySelector(`[data-team-id='${e}']`);s instanceof HTMLElement&&(s.hidden=!1),t(n,".js-repo-access-group").classList.remove("no-form")}}(s.getAttribute("data-team-id")||""),s.remove(),B(o)})),e("combobox-commit",".js-repo-add-access-search",(function(e){if(!(e.target instanceof Element))return;const s=t(e.target,".js-repo-add-access-search"),r=t(e.target,".js-autocomplete-item");n(s,".js-selected-member-id").textContent=e.target.getAttribute("data-autocomplete-label")||"selection";const c=n(s,".js-selected-member-badge"),i=n(r,".js-selection-badge");c.innerHTML=i.innerHTML,R(o(s,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection"));const a=s.querySelector(".js-base-role-badge");O(a,!0);const l=r.getAttribute("data-type"),u=r.hasAttribute("data-admin"),d=o(s,u?"[data-disable-org-admin]":"[data-disable-org-role]",HTMLInputElement),m=o(s,'input[name="role"]',HTMLInputElement);if(m.length>0){if($(m),"org-member"===l){O(a,!1);for(const e of d){e.disabled=!0,t(e,".js-role-checkbox").classList.add("text-gray-light")}}if(u)n(s,".js-role-admin",HTMLInputElement).checked=!0;else if(a&&"org-member"===l){n(t(a,".js-role-checkbox"),'input[name="role"]',HTMLInputElement).checked=!0}else"outside-collab"!==l&&"team"!==l&&"org-member"!==l&&"email"!==l||(n(s,".js-role-pull",HTMLInputElement).checked=!0)}})),e("click",".js-cancel-selection",(function(e){if(!(e.target instanceof Element))return;const s=t(e.target,".js-repo-add-access-search");n(s,".js-repo-add-access-search-input",HTMLInputElement).value="",$(o(s,'input[name="role"]',HTMLInputElement)),R(o(s,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")),O(s.querySelector(".js-base-role-badge"),!0)})),e("details-dialog-close",".js-add-access-form",(function({currentTarget:e}){const t=n(e,".js-repo-add-access-search-input",HTMLInputElement);t.value="",$(o(t,'input[name="role"]',HTMLInputElement));const s=n(e,".js-repo-add-access-search-selection"),r=n(e,".js-repo-add-access-search-selected");r.hidden||(R([r,s]),O(t.querySelector(".js-base-role-badge"),!0))})),e("change",".js-repo-features-form input[type=checkbox]",(function({currentTarget:e}){const s=t(e,".js-repo-option"),o=n(s,".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),c(".js-repo-features-form",(async function(e,s){let r;try{r=await s.html()}catch(c){for(const s of o(e,".status-indicator-loading")){s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-failed");const e=t(s,".js-repo-option"),o=n(e,"input[type=checkbox]",HTMLInputElement);o.checked=!o.checked}return}for(const t of o(e,".status-indicator-loading"))t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-success");n(document,".js-repo-nav").replaceWith(r.html)})),e("change",".js-merge-features-form input[type=checkbox]",(function({currentTarget:e}){const s=e.form;for(const t of s.querySelectorAll(".errored"))t.classList.remove("errored");const o=t(e,".js-repo-option"),r=n(o,".js-status-indicator");r.classList.remove("status-indicator-success","status-indicator-failed"),r.classList.add("status-indicator-loading")})),c(".js-merge-features-form",(async function(e,s){try{await s.text()}catch(o){const s=o.response&&o.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const t of e.querySelectorAll(s))t instanceof HTMLElement&&(t.hidden=!1);for(const r of e.querySelectorAll(".status-indicator-loading")){r.classList.remove("status-indicator-loading"),r.classList.add("status-indicator-failed");const e=t(r,".js-repo-option");e.classList.add("errored");const s=n(e,"input[type=checkbox]",HTMLInputElement);s.checked=!s.checked}for(const t of e.querySelectorAll(".status-indicator-success"))t.classList.remove("status-indicator-success");return}for(const t of e.querySelectorAll(".errored"))t.classList.remove("errored");for(const t of e.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))t instanceof HTMLElement&&(t.hidden=!0);for(const t of e.querySelectorAll(".status-indicator-loading"))t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-success")})),e("change","input.js-required-status-toggle",(function({currentTarget:e}){const s=t(e,".js-protected-branch-settings");n(s,".js-required-statuses").classList.toggle("d-none",!e.checked)})),e("change","input.js-required-status-checkbox",(function({currentTarget:e}){const s=t(e,".js-protected-branches-item");n(s,".js-required-status-badge").classList.toggle("d-none",!e.checked)})),e("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",(function({currentTarget:e}){const s=t(e,".js-protected-branch-options"),o=n(s,".js-authorized-pushers");o.classList.toggle("d-none",!e.checked),n(o,".js-add-protected-branch-user-or-team input",HTMLInputElement).focus()})),e("change",".js-protected-branch-include-admin-toggle",(function({currentTarget:e}){const n=t(e,".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const t of n)t.classList.toggle("d-none"),t.classList.toggle("active",!t.classList.contains("d-none"))})),e("auto-complete-change",".js-add-protected-branch-user-or-team",(async function({target:e}){const o=e,r=o.value;if(!r)return;o.value="";const c=t(o,".js-protected-branch-options"),i=n(c,".js-authorized-users-and-teams"),a=i.querySelector(`div[data-user-or-team-name='${r}']`);if(a)return void n(a,".js-protected-branch-pusher").classList.add("user-already-added");const l=s(o,"data-add-url"),u=new URL(l,window.location.origin),d=new URLSearchParams(u.search.slice(1));d.append("item",r),u.search=d.toString(),i.append(await v(document,u.toString())),F(c)})),e("click",".js-remove-authorized-user-or-team",(function({currentTarget:e}){const n=t(e,".js-protected-branch-options");t(e,".js-authorized-user-or-team").remove(),F(n)})),r("#pages-cname-field",{constructor:HTMLInputElement,add(e){k(e,(function(){n(document,".js-pages-cname-save-btn",HTMLButtonElement).disabled=e.value===e.defaultValue}))}}),r(".js-pages-https-status-form",{constructor:HTMLFormElement,add(e){const t=new Request(e.action,{method:e.method,body:new FormData(e)});(async()=>{try{const n=await v(document,t);e.replaceWith(n)}catch(n){if(!n.response||404!==n.response.status)throw n}})()}});function P(){return n(document,".js-update-page-source-btn",HTMLButtonElement)}function W(e){const t=document.querySelector(`input[name=${e}]:checked`);return t?t.value:null}setTimeout((async function e(){const t=document.querySelector(".js-pages-certificate-status");if(t){const n=s(t,"data-status-url"),o=await v(document,n);t.replaceWith(o),setTimeout(e,15e3)}}),15e3);const z=W("source"),U=W("source_dir");e("change",".js-select-branch",e=>{const t=e.target;if("source"!==t.name)return;const s=n(document,".js-select-source-dir",HTMLElement),o=n(document,".js-branch-icon",HTMLElement);""!==t.value?(o.hidden=!1,s.hidden=!1):(o.hidden=!0,s.hidden=!0);const r=function(){const e=document.querySelector(".js-disable-page-warning");return e||null}();null!=r&&(""===t.value?r.hidden=!1:r.hidden=!0),t.value!==z?(P().disabled=!1,""===t.value&&null!=r&&(P().disabled=!0)):U!==W("source_dir")&&""!==z||(P().disabled=!0)}),e("change",".js-select-source-dir",e=>{const t=e.target;"source_dir"===t.name&&(t.value!==U?P().disabled=!1:W("source")===z&&(P().disabled=!0))}),e("change",".js-repo-actions-settings input[type=radio]",(function({currentTarget:e}){const s=e.form;for(const t of s.querySelectorAll(".js-actions-status-indicator"))t.classList.remove("status-indicator-success","status-indicator-failed","status-indicator-loading");const o=t(e,".js-actions-option"),r=n(o,".js-actions-status-indicator");r.classList.remove("status-indicator-success","status-indicator-failed"),r.classList.add("status-indicator-loading")})),e("details-dialog-close",".js-repo-actions-delete-runner-dialog",(function({currentTarget:e}){!async function(e){const t=s(e,"data-actions-list-runners-url"),o=n(document,"#js-actions-runners-list");try{const e=await v(document,t);o.innerHTML="",o.append(e)}catch(r){window.location.reload()}}(e)})),c(".js-repo-restore",(async function(e,s){let o;const r=t(e,".js-deleted-repository");try{o=await s.html()}catch(c){throw c}o&&function(e,t){const s=n(e,".js-restore-status");s.innerHTML="",s.append(t.html)}(r,o)})),r(".js-restore-repo-job",(function(e){!function(e){n(e,"form>button",HTMLButtonElement).disabled=!0,n(e,"summary").classList.add("disabled");for(const t of e.querySelectorAll("details"))t.removeAttribute("open")}(t(e,".js-deleted-repository"))})),e("click",".js-disableable-summary.disabled",e=>e.preventDefault());const N=new WeakMap,J=new WeakMap;async function V(e){const o=t(e,".js-repository-selection-component"),r=N.get(o)||0;r>100||(e.textContent=s(e,"data-disable-with"),e.disabled=!0,N.set(o,r+1),async function(e,t){const s=await v(document,t);n(e,".js-more-repository-items-replace-target").replaceWith(s),function(e){a(n(e,".js-repository-items-filter-input"),"change")}(e)}(o,s(e,"data-url")),await Promise.resolve(),o.dispatchEvent(new CustomEvent("repository-items-loaded")))}function Y(e,t){const s=n(e,".js-btn-select-repositories",HTMLButtonElement);s.disabled=!t,s.setAttribute("aria-disabled",String(!t))}function X(e){const t=e.currentTarget,s=t.closest(".js-repository-items-dialog");if(!s)return;const r=o(t,".js-repository-item-checkbox",HTMLInputElement).filter(e=>e.checked).length,c=n(s,".js-selected-repositories-count-container");n(c,".js-selected-repositories-count").textContent=r.toString(),n(c,".js-multiple-repositories-text").hidden=1===r,n(c,".js-single-repository-text").hidden=1!==r}e("click",".js-more-repository-items-button",(function(e){V(e.currentTarget)})),r(".js-more-repository-items-button",{constructor:HTMLButtonElement,add:V}),e("change",".js-repository-selection-component",X),e("reset",".js-repository-selection-component",X),e("change",".js-repository-selection-component",(function(e){const n=e.target;if("checkbox"!==(null==n?void 0:n.type))return;const s=t(n,".js-repository-selection-component"),o=J.get(s)||new Set;o.has(n.value)?o.delete(n.value):o.add(n.value),J.set(s,o),Y(t(n,".js-repository-items-dialog"),o.size>0)})),e("click",".js-btn-select-repositories",(function(e){const s=t(e.target,".js-repository-items-dialog"),o=n(s,".js-repository-selection-component");J.set(o,new Set),t(o,"details-dialog",l).toggle(!1),A(),C(e)})),e("details-dialog-close",".js-repository-items-dialog",(function(e){const t=e.currentTarget.closest(".js-repository-items-dialog");if(!t)return;const s=n(t,".js-repository-selection-component");if(!s.hasAttribute("data-discard-changes-on-close"))return;const o=J.get(s);if(o){for(const e of o.keys()){const t=n(s,`[value=${e}]`,HTMLInputElement);t.checked=!t.checked}J.set(s,new Set),Y(t,!1)}}));function G({currentTarget:e}){if(e instanceof Element){const t=e.querySelector(".js-runner-bulk-form");L(t)}}e("click",".js-repo-toggle-team",(async function(){const e=(e=>{const t=new URLSearchParams(window.location.search),n=new Set(t.getAll("team_ids[]")),s=o(document,e,HTMLInputElement);for(const o of s)o.checked?n.add(o.value):n.delete(o.value);return[...n]})(".js-repo-toggle-team");for(const t of o(document,".js-repo-team-suggestions-pagination > a",HTMLAnchorElement)){const n=s(t,"href");if(n){const s=new URL(n,window.location.origin),o=new URLSearchParams(s.search.slice(1));o.delete("team_ids[]");for(const t of e)o.append("team_ids[]",t);s.search=o.toString(),t.setAttribute("href",s.toString())}}n(document,'[name="team_ids"]',HTMLInputElement).value=e.join(",")})),h(".js-synced-repo-owner-input",(function(e){const t=e.target,n=t.getAttribute("data-sync");if(!n)return;const s=document.querySelectorAll(`[data-sync-with="${n}"]`);for(const o of s)o.textContent=t.value})),e("change",".js-runner-bulk-actions-toggle",(function(){const e=!!document.querySelector(".js-runner-bulk-actions-toggle:checked");document.querySelector(".js-runner-default-header").hidden=e,document.querySelector(".js-runner-bulk-actions-header").hidden=!e})),e("details-menu-selected",".js-runner-bulk-menu",(function(e){const n=e.detail.relatedTarget,s=t(n,".js-runner-bulk-menu"),o=function(e){const t="true"===e.getAttribute("aria-checked"),n=document.createElement("input");return n.type="hidden",n.name=t?"add[]":"remove[]",n.value=e.getAttribute("data-value"),n}(n),r=s.querySelector(".js-runner-bulk-form"),c=r.querySelector(`[value='${o.value}']`);c?c.replaceWith(o):r.append(o),s.addEventListener("toggle",G,{once:!0})}),{capture:!0});let K=!1;function Q(e,t){let n=e.nextElementSibling;for(;n&&ee(n);)n.hidden=t,n=n.nextElementSibling}function Z(e,t){n(e,".js-runner-chevron-up").hidden=t,n(e,".js-runner-chevron-down").hidden=!t}e("click",".js-open-runner-group",(function(e){if(K)return;K=!0;const n=e.currentTarget,s=t(n,".js-runner-group");"false"===n.getAttribute("aria-expanded")?(n.setAttribute("aria-expanded","true"),Q(s,!1),Z(s,!1)):(n.setAttribute("aria-expanded","false"),Q(s,!0),Z(s,!0)),K=!1}));function ee(e){return null!=e&&e.classList.contains("js-runner")}function te({currentTarget:e}){if(e instanceof Element){const t=n(e,".js-runner-labels-form",HTMLFormElement);L(t)}}e("details-menu-selected",".js-runner-group-visibility-menu",(function(e){const o=e.detail.relatedTarget;if(!(o instanceof HTMLElement))throw new Error("invariant");const r=t(o,".js-runner-group-form"),c=s(o,"value");n(r,".js-runner-group-targets-selection").hidden="SELECTED"!==c}),{capture:!0}),e("click",".js-runner-group-checkbox",(function(e){const s=e.currentTarget;if(!(s instanceof HTMLInputElement))return;const o=t(s,".js-runner-group"),r=o.querySelector(".js-open-runner-group");if(!r)return;if(K)return;K=!0,s.checked&&(r.setAttribute("aria-expanded","true"),Q(o,!1),Z(o,!1));let c=o.nextElementSibling;for(;c&&ee(c);){const e=n(c,".js-bulk-actions-toggle",HTMLInputElement);ee(c.nextElementSibling)?e.checked=s.checked:(e.checked=!s.checked,e.click()),c=c.nextElementSibling}K=!1})),c(".js-create-runner-label-form",(async function(e,s){var o;let r;const c=t(e,".js-runner-labels-menu"),i=n(c,".js-runner-label-error");try{r=await s.html()}catch(u){return void((null===(o=u.response.json)||void 0===o?void 0:o.message)&&i&&(i.textContent=u.response.json.message,i.hidden=!1))}if(!r||!r.html)return;i&&(i.hidden=!0,i.textContent="");const a=r.html.querySelector(".js-label-input");n(c,".js-filterable-runner-labels").prepend(r.html),null==a||a.click();const l=n(c,".js-label-filter-field",HTMLInputElement);l.value="",l.focus()})),e("details-menu-selected",".js-runner-labels-details",(function(e){e.currentTarget.addEventListener("toggle",te,{once:!0})}),{capture:!0});function ne(){const e=n(document,".js-org-runner-permissions-selection"),t=e.querySelector(".js-runner-permissions-menu input:checked"),o=s(t,"value");n(e,".js-selected-repositories-count-container").hidden="SELECTED_REPOSITORIES"!==o}function se(){return n(document,".js-add-u2f-registration-form",HTMLFormElement)}e("details-menu-selected",".js-runner-permissions-menu",(function(e){const o=e.detail.relatedTarget;if(!(o instanceof HTMLElement))throw new Error("invariant");const r=t(o,".js-org-runner-permissions-selection"),c=s(o,"value");n(r,".js-org-runner-repository-selection").hidden="SELECTED_REPOSITORIES"!==c,ne()}),{capture:!0}),e("change",".js-org-runner-permissions-selection .js-repository-selection-component",ne),e("reset",".js-org-runner-permissions-selection .js-repository-selection-component",ne),c(".js-saved-reply-delete",(async function(e,t){await t.text();const n=e.closest(".js-saved-reply-container"),s=n.querySelectorAll(".js-saved-reply-list-item").length;n.classList.toggle("has-replies",s>1),e.closest(".js-saved-reply-list-item").remove()}));function oe(e){e.webauthn_register_request&&se().setAttribute("data-webauthn-register-request",JSON.stringify(e.webauthn_register_request))}function re(e,t){const s=n(document,".js-new-u2f-registration");s.classList.add("is-showing-error"),s.classList.remove("is-sending");for(const n of s.querySelectorAll(".js-u2f-message"))n.hidden=!0;const o=n(s,e);t&&(o.textContent=t),o.hidden=!1}async function ce(e){if(!(await E("high")))throw new Error("sudo failed");const t=n(document,".js-add-u2f-registration-form",HTMLFormElement);u(t,"response").value=JSON.stringify(e);try{const e=await S(t.action,{method:t.method,body:new FormData(t),headers:{accept:"application/json"}}),s=await e.json();oe(s),n(document,".js-new-u2f-registration").classList.remove("is-sending","is-active"),n(document,".js-u2f-registration-nickname-field",HTMLInputElement).value="";const o=s.registration;o&&n(document,".js-u2f-registrations").append(M(document,o))}catch(s){if(s.response){const e=await s.response.json();oe(e),re(".js-u2f-server-error",e.error)}else re(".js-u2f-network-error")}}async function ie(){try{!function(){const e=n(document,".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}();const e=JSON.parse(s(se(),"data-webauthn-register-request")),t=await T(e);await ce(t)}catch(e){throw re(".js-webauthn-registration-error"),e}}function ae(){ie()}c(".js-u2f-registration-delete",(async function(e,n){const s=t(e,".js-u2f-registration");s.classList.add("is-sending"),oe((await n.json()).json),s.remove()})),e("click",".js-add-u2f-registration-link",(function(){const e=n(document,".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),n(document,".js-u2f-registration-nickname-field",HTMLInputElement).focus()})),e("click",".js-u2f-register-retry",(function(){ae()})),e("submit",".js-add-u2f-registration-form",(function(e){e.preventDefault(),ae()})),r(".js-u2f-box",(function(e){e.classList.toggle("available",w())}));let le=class SelectedItemListElement extends HTMLElement{connectedCallback(){this.includeFragment.addEventListener("include-fragment-replaced",()=>{this.updateCount()})}get count(){return this.items.filter(e=>e.checked).length}updateCount(){const e=this.count;this.selectedCount.textContent=String(e),this.description.hidden=e<=0,this.pluralItemsDescription.hidden=1===e,this.singularItemDescription.hidden=1!==e}hideDescription(){this.description.hidden=!0}showDescription(){const e=this.count;this.description.hidden=e<=0}};function ue(e,t){n(e,".js-add-new-user",HTMLButtonElement).disabled=!t}d([m],le.prototype,"selectedCount",void 0),d([m],le.prototype,"pluralItemsDescription",void 0),d([m],le.prototype,"singularItemDescription",void 0),d([m],le.prototype,"description",void 0),d([p],le.prototype,"items",void 0),d([m],le.prototype,"includeFragment",void 0),le=d([f],le),r(".js-add-user-form",(function(e){ue(e,!1)})),e("auto-complete-change",".js-add-user-completer",(function({target:e}){const n=e;ue(t(n,".js-add-user-form"),!!n.value);const s=document.querySelector(".js-designated-user");s&&(n.value?s.textContent=`@${n.value}`:s.textContent=s.getAttribute("data-autocomplete-text"))})),c(".js-remote-submit",(async function(e,t){const s=await t.html(),o=n(document,".js-user-block-settings-list"),r=n(o,".js-blocked-list"),c=n(o,".js-user-block-blank-slate");ue(e,!1);const i=n(e,".js-add-blocked-user-field",HTMLInputElement);H(i,""),c.hidden=!0,r.hidden=!1,r.prepend(s.html)})),c(".js-user-sessions-revoke",(async function(e,n){await n.text();const s=t(e,".js-user-sessions-container");if(t(e,".js-user-session").remove(),s){const e=s.querySelectorAll(".js-user-session").length;s.classList.toggle("has-active-sessions",e>0)}})),c(".js-verify-ssh-key",(async function(e,s){await s.html();const o=t(e,"li");n(o,".js-unverified-user-key-notice").remove(),n(o,".js-user-key-icon").classList.remove("unverified-user-key"),e.remove()})),c(".js-leave-collaborated-repo",(async function(e,t){await t.html();const o=s(e,"data-repo-id"),r=s(e,"data-owner-id");n(document,`.js-collab-repo[data-repo-id='${o}']`).remove(),document.querySelector(".js-collab-repo")||(n(document,".js-collaborated-repos-empty").hidden=!1,n(document,".js-collaborated-repos").hidden=!0);const c=document.querySelector(`.js-collab-repo-owner[data-owner-id='${r}']`);c&&(c.querySelector(".js-collab-repo")||c.remove())}))}}}));
//# sourceMappingURL=settings-bootstrap-93669d8c.js.map
